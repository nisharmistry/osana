(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1327:function(O,l,n){"use strict";var c=function(){var r=this,d=r.$createElement,h=r._self._c||d;return h("div",{staticClass:"input-wrapper"},[h("input",r._g(r._b({ref:"input",class:r.inputClasses,attrs:{readonly:r.isReadonly},domProps:{value:r.value},on:{input:function(M){return r.$emit("form-input:input",M.target.value)}}},"input",r.$attrs,!1),r.$listeners)),r._v(" "),r.hasIconPrefix?h("div",{staticClass:"vertical-align icon-prefix"},[r._t("icon-prefix",[h("w-icon",{attrs:{size:16,icon:r.iconPrefix}})])],2):r._e(),r._v(" "),r.hasError?h("w-icon",{staticClass:"vertical-align icon-suffix error-icon",attrs:{size:16,icon:"alert-triangle","icon-fill":"var(--color-urgent)"}}):r._e(),r._v(" "),r.hasIconSuffix?h("div",{staticClass:"vertical-align icon-suffix custom-suffix"},[r._t("icon-suffix",[h("w-icon",{attrs:{size:16,icon:r.iconSuffix}})])],2):r._e()],1)},m=[],g=n(2),p=n.n(g),v=n(5),y=n.n(v),x=n(11),I=n.n(x),a=n(9),s=n(217),S=n(251),w={name:"WInput",components:{WIcon:S.a},inject:["themeClass"],inheritAttrs:!1,model:{event:"form-input:input"},props:{value:{type:null,default:""},iconPrefix:{type:String,default:null},iconSuffix:{type:String,default:null},error:{type:Object,default:null},presetSize:{type:String,default:void 0},readonly:{type:Boolean,default:!1}},computed:y()({},Object(a.mapState)(["environment"]),{inWebviewEditingMode:function(){return!this.environment.published&&!this.environment.draft&&this.isWebview},isReadonly:function(){return this.readonly||this.inWebviewEditingMode},isWebview:function(){return Object(s.f)()},inputClasses:function(){var d;return[this.themeClass("input"),"input-group__input",(d={"is-small":this.presetSize==="small"},p()(d,this.themeClass("error"),this.hasError),p()(d,"has-prefix",this.hasIconPrefix),p()(d,"has-suffix",this.hasIconSuffix||this.hasError),d)]},hasError:function(){return!I()(this.error)},hasIconPrefix:function(){return this.iconPrefix||this.$slots["icon-prefix"]},hasIconSuffix:function(){return this.iconSuffix||this.$slots["icon-suffix"]}}),methods:{focus:function(){this.$refs.input.focus()},blur:function(){this.$refs.input.blur()}}},$=w,C=n(6),F=Object(C.a)($,c,m,!1,null,"1ffb3e30",null),A=l.a=F.exports},1731:function(O,l,n){"use strict";var c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"autocomplete-container",class:t.themeClass("autocomplete")},[o(t.inputComponent,t._g(t._b({ref:"input",tag:"component",attrs:{placeholder:t.placeholder,"aria-label":t.placeholder,"icon-suffix":t.iconSuffix},on:{focus:function(i){return t.inputFocused(!0)},blur:function(i){return t.inputFocused(!1)},keydown:[function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.onSubmitSearch(i)},function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"down",40,i.key,["Down","ArrowDown"])?null:(i.preventDefault(),t.focusNextOrPrevItem("next"))},function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"up",38,i.key,["Up","ArrowUp"])?null:(i.preventDefault(),t.focusNextOrPrevItem("prev"))}],keypress:function(i){return t.setFocusedOption(-1)}},scopedSlots:t._u([t.isMakerInput?{key:"suffix",fn:function(){return[t.isGeolocationEnabled?o("navigation-icon",{on:{click:function(i){return t.$emit("geolocation")}}}):t._e()]},proxy:!0}:{key:"icon-suffix",fn:function(i){return[t.loading?o("spinner"):t._t("icon-suffix")]}}],null,!0),model:{value:t.inputVal,callback:function(i){t.inputVal=i},expression:"inputVal"}},"component",t.$attrs,!1),t.$listeners),[[t.iconPrefix?o("w-icon",{staticClass:"icon-prefix",attrs:{slot:"icon-prefix",size:24,icon:t.iconPrefix,"icon-fill":t.iconFill},nativeOn:{click:function(i){return t.$emit("autocomplete:enter")}},slot:"icon-prefix"}):t._e()]],2),t._v(" "),o("pseudo-window",{on:{resize:t.checkMobile}}),t._v(" "),o("autocomplete-dropdown",{directives:[{name:"show",rawName:"v-show",value:t.isDropdownShown,expression:"isDropdownShown"}],ref:"dropdown",attrs:{options:t.truncatedOpts,value:t.value,"value-key":t.valueKey,"label-key":t.labelKey||t.valueKey,"highlight-match":t.highlightMatch},on:{"select:option":t.selectOption},model:{value:t.focusedIdx,callback:function(i){t.focusedIdx=i},expression:"focusedIdx"}})],1)},m=[],g=n(2),p=n.n(g),v=n(175),y=n.n(v),x=n(92),I=n.n(x),a=n(1339),s=n(252),S=n.n(s),w=n(217),$=n(1758),C=n(1343),F=n(1858),A=n.n(F),r=n(1327),d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"autocomplete-dropdown",class:t.themeClass("autocompleteDropdown")},t._l(t.options,function(i,u){return o("autocomplete-dropdown-item",{key:u,staticClass:"autocomplete-item",class:t.getItemClasses(u),attrs:{"option-text":i[t.labelKey],highlight:t.highlightMatch&&t.value,selected:t.focusedOptionIdx===u},on:{mousedown:function(f){f.preventDefault()},click:function(f){return f.preventDefault(),t.$emit("select:option",i,u)},mouseover:function(f){return t.$emit("focus:option",u)},touchstart:function(f){return t.$emit("focus:option",u)}}})}),1)},h=[],M=n(5),b=n.n(M),j={name:"AutocompleteDropdownItem",props:{optionText:{type:String,required:!0},selected:{type:Boolean},highlight:{type:[String,Boolean]}},watch:{selected:function(){this.scrollIntoView()}},mounted:function(){this.scrollIntoView()},methods:{scrollIntoView:function(){if(this.selected){var e=this.$parent.$el,o=e.scrollTop,i=e.offsetHeight,u=this.$el,f=u.offsetTop,D=u.offsetHeight;if(o<f&&f+D/2<o+i)return;this.$parent.$el.scrollTop=this.$el.offsetTop}},highlightMatched:function(){var e=this.optionText,o=this.highlight,i=this.$createElement;return!o||typeof o!="string"?[e]:e.split(o).flatMap(function(u,f,D){return f===D.length-1?u:[u,i("strong",[o])]})}},render:function(e){return e("div",{attrs:b()({},this.$attrs,{title:this.optionText}),on:this.$listeners},this.highlightMatched())}},E=j,W={name:"AutocompleteDropdown",components:{AutocompleteDropdownItem:E},inject:["themeClass"],model:{prop:"focusedOptionIdx",event:"focus:option"},props:{options:{type:Array,required:!0},focusedOptionIdx:{type:Number,required:!0},value:{type:String,required:!0},labelKey:{type:String,required:!0},highlightMatch:{type:Boolean,default:!1}},methods:{getItemClasses:function(e){return p()({},this.themeClass("autocompleteFocused"),this.focusedOptionIdx===e)}}},N=W,P=n(6),B=Object(P.a)(N,d,h,!1,null,"a1cde442",null),z=B.exports,T={name:"Autocomplete",components:{Spinner:$.a,PseudoWindow:S.a,WInput:r.a,MInput:C.MInput,NavigationIcon:A.a,AutocompleteDropdown:z},inject:["themeClass"],inheritAttrs:!1,model:{event:"autocomplete:update"},props:{value:{type:String,default:""},options:{type:Array,validator:function(e){return e.every(function(o){return(typeof o=="undefined"?"undefined":I()(o))==="object"})},required:!0},placeholder:{type:String,default:""},iconPrefix:{type:String,default:""},iconSuffix:{type:String,default:""},iconColor:{type:String,default:""},valueKey:{type:String,default:"value"},labelKey:{type:String,default:void 0},focusFirstMatch:{type:Boolean,default:!1},focusedOptionIdx:{type:Number,default:void 0},mobileOptionsLimit:{type:Number,default:3,validator:function(e){return y()(e)&&e>=0}},highlightMatch:{type:Boolean,default:!1},inputComponent:{type:[Object,String],default:"w-input"},loading:{type:Boolean,default:!1},isGeolocationEnabled:{type:Boolean,default:!1}},data:function(){return{isMobile:!1,isInputFocused:!1,internalFocusedIdx:-1}},computed:{inputVal:{get:function(){return this.value},set:function(e){this.$emit("autocomplete:update",e)}},iconFill:function(){return this.iconColor?"var("+this.iconColor+")":""},truncatedOpts:function(){var e=this.options,o=e===void 0?[]:e,i=this.isMobile&&this.mobileOptionsLimit>0;return i?o.slice(0,this.mobileOptionsLimit):o},isDropdownShown:function(){return this.isInputFocused&&this.truncatedOpts.length>0},focusedIdx:{get:function(){return this.focusedOptionIdx!==void 0?this.focusedOptionIdx:this.internalFocusedIdx},set:function(e){this.focusedOptionIdx!==void 0?this.$emit("update:focusedOptionIdx",e):this.internalFocusedIdx=e}},isMakerInput:function(){return this.inputComponent==="m-input"}},watch:{value:function(){this.focusFirstMatch&&this.setFocusedOption(this.focusedIdx)},options:function(){this.focusFirstMatch&&this.setFocusedOption(0)},isDropdownShown:function(){this.isDropdownShown&&this.popper&&this.popper.update()}},mounted:function(){this.checkMobile(),this.popper=Object(a.createPopper)(this.$refs.input.$el,this.$refs.dropdown.$el,{modifiers:[{name:"offset",options:{offset:[0,4]}}]})},beforeDestroy:function(){this.popper&&this.popper.destroy()},methods:{inputFocused:function(e){this.isInputFocused=e},selectOption:function(e,o){if(!!e&&(this.$emit("autocomplete:update",e[this.valueKey]),this.$emit("select:option",e,o),!!this.$refs.input)){if(!this.isMakerInput){this.$refs.input.blur();return}var i=this.$refs.input.$el,u=i.getElementsByTagName("input");u&&u[0]&&u[0].blur()}},focusNextOrPrevItem:function(e){if(!!this.isDropdownShown){var o=this.focusedIdx,i=this.truncatedOpts.length-1;e==="prev"&&this.setFocusedOption(o>0?o-1:i),e==="next"&&this.setFocusedOption(o<i?o+1:0)}},setFocusedOption:function(e){this.focusedIdx=e},onSubmitSearch:function(e){var o=void 0;this.focusedIdx<this.truncatedOpts.length?o=this.truncatedOpts[this.focusedIdx]:this.focusFirstMatch&&(o=p()({},this.valueKey,this.value)),o?(e.preventDefault(),this.selectOption(o,this.focusedIdx)):this.$emit("autocomplete:enter")},checkMobile:function(){this.isMobile=Object(w.d)()}}},V=T,K=Object(P.a)(V,c,m,!1,null,"ea58d72c",null),R=l.a=K.exports},1758:function(O,l,n){"use strict";var c=function(){var s=this,S=s.$createElement,w=s._self._c||S;return w("svg",{class:[s.$s.Svg,s.$s["variant_"+s.variant]],attrs:{viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"}},[w("circle",{class:[s.$s.Circle,s.$s["variant_"+s.variant]],attrs:{fill:"none","stroke-linecap":"round",cx:"8",cy:"8",r:"7"}})])},m=[],g={name:"Spinner",props:{variant:{type:String,default:"spinner-icon",validator:function(S){return["spinner-icon","spinner-large"].includes(S)}}}},p=g,v={Svg:"Spinner_Spinner_Svg--xwolc",rotate:"Spinner_Spinner_rotate--3jW_B","variant_spinner-icon":"Spinner_Spinner_variant_spinner-icon--_-pJU","variant_spinner-large":"Spinner_Spinner_variant_spinner-large--3zdqn",Circle:"Spinner_Spinner_Circle--1iMBL","circle-line":"Spinner_Spinner_circle-line--3ZcWr"},y=n(6);function x(s){this.$s=v.locals||v}var I=Object(y.a)(p,c,m,!1,x,null,null),a=l.a=I.exports},217:function(O,l,n){"use strict";n.d(l,"d",function(){return m}),n.d(l,"b",function(){return g}),n.d(l,"a",function(){return p}),n.d(l,"c",function(){return y}),n.d(l,"e",function(){return x}),n.d(l,"f",function(){return I});function c(){return typeof window!="undefined"}function m(){if(!c())return!1;var a=typeof window.orientation!="undefined",s="ontouchstart"in window||window.navigator.msMaxTouchPoints;return a&&s}function g(){return c()&&Boolean(window.navigator.userAgent.match(/iPad|iPhone|iPod/i))}function p(){return c()&&window.chrome&&!(window.navigator.userAgent.toLowerCase().indexOf("edge")>-1)}function v(){if(c()&&typeof navigator!="undefined"){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);if(a&&a.length)return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]}return!1}function y(){var a=v();return a&&a[0]<13}function x(){return c()&&window.navigator.userAgent.includes("Safari")&&!window.navigator.userAgent.includes("Chrome")}function I(){return c()&&window.FRAME_ORIGIN!==window.location.origin}}}]);
